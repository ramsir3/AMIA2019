import os

DATA_PATH = os.path.join(os.getcwd(), 'data')
RAW_PATH = os.path.join(DATA_PATH, 'raw')
PROCESSED_PATH = os.path.join(DATA_PATH, 'processed')
DEFINITIONS_PATH = os.path.join(DATA_PATH, 'definitions')


TOP_50_CE_ITEM_IDS = [
    829, 811, 813, 791, 781, 837, 212, 161, 432, 184, 723, 454, 674, 617, 828,
    479, 787, 788, 478, 425, 428, 599, 593,  27, 644, 861, 707,  80, 919, 210,
    704, 814, 211, 742,  31, 833, 646, 618, 198,  84,  82,  85,  86,  83,  88,
    159, 54, 32, 87, 706
]

TOP_90_LE_ITEM_IDS = [
    50912, 51006, 51221, 51265, 51301, 51222, 51249, 51248, 51250, 51279, 51277,
    50971, 50983, 50902, 50882, 50868, 50931, 50960, 50970, 50893, 51237, 51274,
    51275, 50820, 51491, 51498, 51244, 51254, 51256, 51146, 51200, 50802, 50804,
    50821, 50818, 50813, 50861, 50878, 51492, 50885, 50863, 51484, 51514, 51478,
    50862, 51508, 51506, 51466, 51464, 51487, 51519, 51516, 51493, 51486, 51476,
    50822, 50808, 50910, 50809, 50911, 50800, 51463, 50954, 50810, 50811, 50824,
    50817, 50812, 50956, 51003, 50806, 50825, 50816, 50867, 51144, 51214, 50826,
    51087, 50828, 50920, 51233, 51082, 51246, 50819, 51143, 51251, 51255, 51137,
    51252, 51100,
]
CONVERSIONS = {
    'WEIGHT':           lambda v, u: v * 0.453592 if u == 'lbs' else v * 0.0283495 if u == 'oz' else v, # WEIGHT
    'HEIGHT':           lambda v, u: v * 2.54     if u == 'in'  else v, # HEIGHT
    'SYSTOLIC BP':      lambda v, u: v, # SYSTOLIC BP
    'DIASTOLIC BP':     lambda v, u: v, # DIASTOLIC BP
    'TEMPERATURE':      lambda v, u: (v-32) * (5/9) if u == 'F' else v, # TEMPERATURE
    'RESPIRATORY RATE': lambda v, u: v, # RESPIRATORY RATE
    'HEART RATE':       lambda v, u: v, # HEART RATE
    'SPO2':             lambda v, u: v, # SPO2
}

VALIDATIONS = {
    'WEIGHT':           [None,None],           
    'HEIGHT':           [None,None],          
    'SYSTOLIC BP':      [30,305], # 30-305
    'DIASTOLIC BP':     [20,180], # 20-180 
    'TEMPERATURE':      [29.5,41.5], # 29.5 to 41.5 
    'RESPIRATORY RATE': [6,60], # 6 and 60
    'HEART RATE':       [None,None],       
    'SPO2':             [60,100], # >= 60 and <= 100,     
    50806: [98, 106],
    50902: [98, 106],
    50893: [9, 10.5],
    50821: [80, 100],
    51250: [80, 100],
    51006: [8, 20],
    50820: [7.38, 7.44],
    50954: [60, 160],
    50817: [60, 100],
    51279: [4.2, 5.9],
    50863: [36, 92],
    50810: [36, 52],
    51221: [36, 51],
    50818: [35, 45],
    50910: [30, 170],
    51301: [3.9, 10.7],
    50862: [3.5, 5.5],
    50822: [3.5, 5],
    50971: [3.5, 5],
    51248: [28, 32],
    51275: [25, 35],
    50804: [23, 28],
    50882: [23, 28],
    51265: [150, 350],
    50824: [136, 145],
    50983: [136, 145],
    50811: [13, 17],
    51222: [12, 17],
    51274: [11, 13],
    50960: [1.5, 2.4],
    50912: [0.7, 1.3],
    50885: [0.3, 1.2],
    50861: [0, 35],
    50878: [0, 35],
    50867: [0, 130],
    51003: [0.03, None],
    50956: [95, None],
}

ITEM_IDS_UOM = {
    'WEIGHT': { #3723, 3580, 3581, 3582, 226512,226531,224639
        762: 'kg',
        763: 'kg',
        3580: 'kg',
        3581: 'lbs',
        3582: 'oz',
        226512: 'kg',
        226531: 'lbs',
        224639: 'kg',
}, 'HEIGHT': { #920, 1394, 4187, 3486, 3485, 4188, 226707,226730
        920: 'in',
        1394: 'in',
        4187: 'in',
        4188: 'cm',
        3485: 'cm',
        3486: 'in',
        226707: 'in',
        226730: 'cm',
}, 'SYSTOLIC BP': { #455,51,225309,442,6701
        455: 'mmHg',
        51: 'mmHg',
        225309: 'mmHg',
        442: 'mmHg',
        6701: 'mmHg',
}, 'DIASTOLIC BP': { #8441,8368,225310,8440,8555
        8441: 'mmHg',
        8368: 'mmHg',
        225310: 'mmHg',
        8440: 'mmHg',
        8555: 'mmHg',
}, 'TEMPERATURE': { #678,677,223761,679,676,223762,226329,227054
        678: 'F',
        677: 'C',
        223761: 'F',
        679: 'F',
        676: 'C',
        # 645: ,
        # 591: ,
        223762: 'C',
        226329: 'C',
        # 597: ,
        227054: 'F',
}, 'RESPIRATORY RATE': { #614,618,619,1635,1884,220210,224688,224689
        614: 'bpm',
        618: 'bpm',
        619: 'bpm',
        1635: 'bpm',
        1884: 'bpm',
        220210: 'bpm',
        224688: 'bpm',
        224689: 'bpm',
        224690: 'bpm',
}, 'HEART RATE': {
        211: 'bpm',
        220045: 'bpm',
}, 'SPO2': { #646,6719,220277,1148,834
        646: '%',
        834: '%',
        6719: '%',
        220277: '%',
    #}, 'BUN': {
    #     225624: 'mg/dl',
    #     1162: 'mg/dl',
    #}, 'CREATININE': {
    #     220615: 'mg/dl',
    #     1525: 'mg/dl',
    #}, 'GLUCOSE': {
    #     220621: 'mg/dl',
    #     1529: 'mg/dl',
    #     # 807: ,
    #     # 225664: ,
    #     226537: 'mg/dl',
    #}, 'ALBUMIN': {
    #     227456: 'g/dl',
    #     1521: ,
    #}, 'CARBON DIOXIDE': {
    #     787: 'mg/dl',
    #}, 'CALCIUM': {
    #     225625: 'mg/dl',
    #     1522: 'mg/dl',
    #}, 'IONIZED CALCIUM': {
    #     816: ,
    #     225667: 'mmol/l',
    #}, 'SODIUM
    #     220645: 'mEg/l',
    #     1536: ,
    #     226534: 'mEg/l',
    #}, 'POTASSIUM
    #     227442: 'mEg/l',
    #     1535: ,
    #     227464: 'mEg/l',
    #}, 'CHLORIDE
    #     220602: 'mEg/l',
    #     1523: ,
    #     226536: 'mEg/l',
    #}, 'TOTAL BILIRUBIN': {
    #     225690: 'mg/dl',
    #     1538: ,
    #}, 'DIRECT BILIRUBIN': {
    #     225651: 'mg/dl',
    #     1527: ,
    #}, 'ALT': {
    #     769: ,
    #     220644: 'iu/l',
    #}, 'ALKALINE PHOSPHATE': {
    #     773: ,
    #     225612: 'iu/l',
    #}, 'AST': {
    #     770: ,
    #     220587: 'iu/l',
    #}, 'HEMOGLOBIN': {
    #     814: 'gm/dl',
    #     220228: 'g/dl',
    #}, 'PLATELETS': {
    #     828: ,
    #     227457: 'k/ul',
    #}, 'WBC': {
    #     220546: 'k/ul',
    #     1542: 'k/ul',
    #}, 'AMMONIA': {
    #     220580: ,
    #     1060: ,
    #     774: ,
    #     2687: ,
    #}, 'CK': {
    #     225634: ,
    #     227445: ,
    #     225628: ,
    #}, 'LIPASE': {
    #     225672: ,
    #     820: ,
    #     2412: ,
    #}, 'TROPONIN': {
    #     227429: ,
    #     851: ,
    #}, 'ANION GAP': {
    #     227073: ,
    #}, 'BNP': {
    #     227446: ,
    #     7294: ,
    }
}

CE_ITEM_LABELS = [
    'WEIGHT',
    'HEIGHT',
    'SYSTOLIC BP',
    'DIASTOLIC BP',
    'TEMPERATURE',
    'RESPIRATORY RATE',
    'HEART RATE',
    'SPO2',
]